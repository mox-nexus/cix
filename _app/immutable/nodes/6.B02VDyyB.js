import{a as d,f as u,t as Qe,d as Ae}from"../chunks/BoBPFXpg.js";import{p as Le,c as s,r,s as l,t as m,g as e,a as Pe,u as c,af as nt,Y as vt,M as dt,ah as ot,L as ue,U as ct}from"../chunks/B4rBkemD.js";import{d as We,s as o}from"../chunks/BN47ziLw.js";import{i as h}from"../chunks/DoYPt3WR.js";import{s as b,a as Se,b as te,h as gt,e as de,i as oe}from"../chunks/BvVmrJMT.js";import{p as j,s as ut,a as Ye}from"../chunks/EaAB93f5.js";import{L as ze,g as He,C as _t,r as pt,a as ft}from"../chunks/DAf7r6MP.js";import{b as Ie}from"../chunks/CgMEB7k0.js";import"../chunks/Cs1z-Vah.js";/* empty css                */import{C as mt}from"../chunks/Ba5dr7rf.js";import{s as ht}from"../chunks/CWj1OF8I.js";var xt=u('<span class="aisle-chevron svelte-1a2fm0q" aria-hidden="true"> </span>'),bt=u('<p class="aisle-preview svelte-1a2fm0q"> </p>'),yt=u('<div class="aisle-progress svelte-1a2fm0q"><div class="aisle-progress-bar svelte-1a2fm0q"><div class="aisle-progress-fill svelte-1a2fm0q"></div></div> <span class="aisle-progress-text svelte-1a2fm0q"> </span></div>'),kt=u('<p class="aisle-coming-soon svelte-1a2fm0q">Coming soon.</p>'),wt=u('<div class="aisle-content svelte-1a2fm0q"><!></div>'),Ct=u('<section><button class="aisle-toggle svelte-1a2fm0q"><div class="aisle-header svelte-1a2fm0q"><h2 class="aisle-label svelte-1a2fm0q"> </h2> <span class="aisle-count svelte-1a2fm0q"> </span> <!></div> <p class="aisle-tagline svelte-1a2fm0q"> </p> <!> <!> <!></button> <!></section>');function Tt(ae,t){Le(t,!0);let R=j(t,"placeholder",3,!1),re=j(t,"variant",3,"explanation"),G=j(t,"delay",3,0);const J={explanation:"var(--quadrant-explanation)","how-to":"var(--quadrant-how-to)",tutorials:"var(--quadrant-tutorials)",reference:"var(--quadrant-reference)"};let se=c(()=>J[re()]??"var(--dao-muted)"),ie=c(()=>t.progress&&t.progress.total>0?t.progress.completed/t.progress.total*100:0);var y=Ct();let k;var _=s(y);_.__click=function(...i){t.ontoggle?.apply(this,i)};var p=s(_),L=s(p),w=s(L,!0);r(L);var O=l(L,2),q=s(O);r(O);var B=l(O,2);{var Q=i=>{var v=xt(),f=s(v,!0);r(v),m(()=>o(f,t.expanded?"▾":"▸")),d(i,v)};h(B,i=>{R()||i(Q)})}r(p);var E=l(p,2),D=s(E,!0);r(E);var Y=l(E,2);{var M=i=>{var v=bt(),f=s(v,!0);r(v),m(()=>o(f,t.preview)),d(i,v)};h(Y,i=>{t.preview&&!t.expanded&&i(M)})}var N=l(Y,2);{var z=i=>{var v=yt(),f=s(v),A=s(f);r(f);var U=l(f,2),n=s(U);r(U),r(v),m(()=>{b(v,"aria-label",`${t.progress.completed??""} of ${t.progress.total??""} read`),te(A,`width: ${e(ie)??""}%`),o(n,`${t.progress.completed??""}/${t.progress.total??""}`)}),d(i,v)};h(N,i=>{t.progress&&t.progress.total>0&&!t.expanded&&i(z)})}var K=l(N,2);{var le=i=>{var v=kt();d(i,v)};h(K,i=>{R()&&i(le)})}r(_);var X=l(_,2);{var g=i=>{var v=wt(),f=s(v);ht(f,()=>t.content),r(v),d(i,v)};h(X,i=>{t.expanded&&t.content&&i(g)})}r(y),m(()=>{b(y,"id",t.id),k=Se(y,1,"aisle svelte-1a2fm0q",null,k,{expanded:t.expanded,placeholder:R()}),te(y,`--stagger-delay: ${G()??""}ms; --variant-color: ${e(se)??""}`),b(_,"aria-expanded",t.expanded),_.disabled=R(),o(w,t.label),o(q,`${t.count??""} ${t.count===1?"article":"articles"}`),o(D,t.tagline)}),d(ae,y),Pe()}We(["click"]);var Rt=u('<p class="card-preview svelte-132tyt0"> </p>'),Et=u('<div class="card-progress svelte-132tyt0"><div class="card-progress-bar svelte-132tyt0"><div class="card-progress-fill svelte-132tyt0"></div></div> <span class="card-progress-text svelte-132tyt0"> </span></div>'),At=u('<p class="card-coming-soon svelte-132tyt0">Coming soon.</p>'),It=u('<span class="suggested-meta svelte-132tyt0"> </span>'),Lt=u('<a class="card-suggested svelte-132tyt0"><span class="suggested-badge svelte-132tyt0">start here</span> <span class="suggested-title svelte-132tyt0"> </span> <!></a>'),Pt=u('<div><button class="card-toggle svelte-132tyt0"><div class="card-header svelte-132tyt0"><h2 class="card-label svelte-132tyt0"> </h2> <span class="card-count svelte-132tyt0"> </span></div> <p class="card-tagline svelte-132tyt0"> </p> <!> <!> <!></button> <!></div>');function St(ae,t){Le(t,!0);let R=j(t,"placeholder",3,!1),re=j(t,"variant",3,"explanation"),G=j(t,"delay",3,0),J=j(t,"active",3,!1);const se={explanation:"var(--quadrant-explanation)","how-to":"var(--quadrant-how-to)",tutorials:"var(--quadrant-tutorials)",reference:"var(--quadrant-reference)"};let ie=c(()=>se[re()]??"var(--dao-muted)"),y=c(()=>t.progress&&t.progress.total>0?t.progress.completed/t.progress.total*100:0);var k=Pt();let _;var p=s(k);p.__click=function(...g){t.onclick?.apply(this,g)};var L=s(p),w=s(L),O=s(w,!0);r(w);var q=l(w,2),B=s(q,!0);r(q),r(L);var Q=l(L,2),E=s(Q,!0);r(Q);var D=l(Q,2);{var Y=g=>{var i=Rt(),v=s(i,!0);r(i),m(()=>o(v,t.preview)),d(g,i)};h(D,g=>{t.preview&&g(Y)})}var M=l(D,2);{var N=g=>{var i=Et(),v=s(i),f=s(v);r(v);var A=l(v,2),U=s(A);r(A),r(i),m(()=>{te(f,`width: ${e(y)??""}%`),o(U,`${t.progress.completed??""}/${t.progress.total??""}`)}),d(g,i)};h(M,g=>{t.progress&&t.progress.total>0&&g(N)})}var z=l(M,2);{var K=g=>{var i=At();d(g,i)};h(z,g=>{R()&&g(K)})}r(p);var le=l(p,2);{var X=g=>{var i=Lt(),v=l(s(i),2),f=s(v,!0);r(v);var A=l(v,2);{var U=n=>{var a=It(),x=s(a,!0);r(a),m(()=>o(x,t.suggestedMeta)),d(n,a)};h(A,n=>{t.suggestedMeta&&n(U)})}r(i),m(()=>{b(i,"href",`${Ie??""}/library/explanation/${t.suggestedSlug??""}`),o(f,t.suggestedTitle)}),d(g,i)};h(le,g=>{t.suggestedSlug&&t.suggestedTitle&&g(X)})}r(k),m(()=>{_=Se(k,1,"quadrant-card svelte-132tyt0",null,_,{active:J(),placeholder:R()}),te(k,`--stagger-delay: ${G()??""}ms; --variant-color: ${e(ie)??""}`),p.disabled=R(),b(p,"aria-expanded",J()),b(p,"aria-controls",t.id),o(O,t.label),o(B,t.count),o(E,t.tagline)}),d(ae,k),Pe()}We(["click"]);var Ot=u('<meta name="description" content="Research and practice of collaborative intelligence. Explanation, reference, and guides organized by Diataxis quadrant."/>'),qt=u('<span class="entry-difficulty svelte-c8k2rg"> </span>'),Bt=u('<div class="entry-connector svelte-c8k2rg" aria-hidden="true"></div>'),Dt=u('<a><span class="entry-index svelte-c8k2rg"></span> <div class="entry-body svelte-c8k2rg"><div class="entry-top svelte-c8k2rg"><span class="entry-title svelte-c8k2rg"> </span> <span class="entry-meta svelte-c8k2rg"><!> <!></span></div> <span class="entry-description svelte-c8k2rg"> </span></div> <span class="entry-state svelte-c8k2rg"> </span></a> <!>',1),Mt=u('<div class="cluster-group svelte-c8k2rg"><div class="cluster-header svelte-c8k2rg"><h3 class="cluster-label svelte-c8k2rg"> </h3> <span class="cluster-description svelte-c8k2rg"> </span> <span class="cluster-progress-text svelte-c8k2rg"> </span></div> <nav class="cluster-entries svelte-c8k2rg"></nav></div>'),Nt=u('<a class="ref-link svelte-c8k2rg"><span class="ref-title svelte-c8k2rg"> </span> <span class="ref-description svelte-c8k2rg"> </span></a>'),Ut=u('<div class="ref-grid svelte-c8k2rg"></div>'),Vt=u(`<div class="library-index svelte-c8k2rg"><header class="library-header svelte-c8k2rg"><h1 class="svelte-c8k2rg">Library</h1> <p class="intro svelte-c8k2rg">The research behind collaborative intelligence — organized by purpose,
			ordered for progressive understanding.</p></header> <div class="progress-overview svelte-c8k2rg"><div class="progress-bar svelte-c8k2rg" aria-label="Reading progress"><div class="progress-fill svelte-c8k2rg"></div> <div class="progress-visited svelte-c8k2rg"></div></div> <span class="progress-label svelte-c8k2rg"> <!></span></div> <div class="quadrant-grid svelte-c8k2rg" role="navigation" aria-label="Content quadrants"></div> <div class="aisles svelte-c8k2rg"></div> <!></div>`);function $t(ae,t){Le(t,!0);const R=()=>Ye(ft,"$readingOverview",G),re=()=>Ye(pt,"$readingProgress",G),[G,J]=ut(),se={foundational:"○",intermediate:"◐",advanced:"●"},ie={unvisited:"○",visited:"◐",completed:"●"},y=[{id:"explanation",label:"Explanation",tagline:"The research and reasoning"},{id:"how-to",label:"How-To",tagline:"Practical guides for building extensions"},{id:"tutorials",label:"Tutorials",tagline:"Hands-on learning from first principles"},{id:"reference",label:"Reference",tagline:"Evidence syntheses and citations"}],k={explanation:"Thesis · Evidence · Design · Critique"};let _=c(R),p=c(()=>ze.reduce((n,a)=>n+a.entries.length,0)),L=c(re),w=nt(vt(new Set));function O(n){const a=e(w).has(n),x=new Set(e(w));a?x.delete(n):x.add(n),ct(w,x,!0),a||requestAnimationFrame(()=>{document.getElementById(n)?.scrollIntoView({behavior:"smooth",block:"start"})})}let q=c(()=>e(_).completed===0&&e(_).visited<=1);function B(n){return e(L).entries[n]||"unvisited"}function Q(n){const a=He(n),x=a.filter(H=>B(H.slug)==="completed").length,C=a.filter(H=>B(H.slug)!=="unvisited").length;return{completed:x,visited:C,total:a.length}}function E(n){return ze.find(a=>a.id===n)}function D(n){return E(n)?.entries.length??0}function Y(n){const a=E(n);return a?{completed:a.entries.filter(C=>B(C.slug)==="completed").length,total:a.entries.length}:{completed:0,total:0}}var M=Vt();gt("c8k2rg",n=>{var a=Ot();dt(()=>{ot.title="Library — cix"}),d(n,a)});var N=l(s(M),2),z=s(N),K=s(z),le=l(K,2);r(z);var X=l(z,2),g=s(X),i=l(g);{var v=n=>{var a=Qe();m(()=>o(a,`· ${e(_).visited??""} in progress`)),d(n,a)};h(i,n=>{e(_).visited>0&&n(v)})}r(X),r(N);var f=l(N,2);de(f,21,()=>y,oe,(n,a,x)=>{const C=c(()=>D(e(a).id)),H=c(()=>!E(e(a).id)||D(e(a).id)===0);{let _e=c(()=>Y(e(a).id)),pe=c(()=>e(w).has(e(a).id)),fe=c(()=>e(a).id==="explanation"&&e(q)?"what-is-ci":void 0),me=c(()=>e(a).id==="explanation"&&e(q)?"What is CI":void 0),he=c(()=>e(a).id==="explanation"&&e(q)?"5 min":void 0);St(n,{get id(){return`${e(a).id??""}-card`},get label(){return e(a).label},get tagline(){return e(a).tagline},get count(){return e(C)},get preview(){return k[e(a).id]},get progress(){return e(_e)},get placeholder(){return e(H)},get variant(){return e(a).id},delay:x*80,get active(){return e(pe)},get suggestedSlug(){return e(fe)},get suggestedTitle(){return e(me)},get suggestedMeta(){return e(he)},onclick:()=>O(e(a).id)})}}),r(f);var A=l(f,2);de(A,21,()=>y,oe,(n,a,x)=>{const C=c(()=>E(e(a).id)),H=c(()=>D(e(a).id)),_e=c(()=>!e(C)||e(C).entries.length===0);{const pe=he=>{var Oe=Ae(),je=ue(Oe);{var Ge=Z=>{var ne=Ae(),xe=ue(ne);de(xe,17,()=>_t,oe,(be,I)=>{const $=c(()=>He(e(I).id)),ce=c(()=>Q(e(I).id));var V=Mt(),F=s(V),W=s(F),ye=s(W,!0);r(W);var ee=l(W,2),ke=s(ee,!0);r(ee);var qe=l(ee,2),Ke=s(qe);r(qe),r(F);var we=l(F,2);de(we,21,()=>e($),oe,(Xe,P,Be)=>{const ge=c(()=>B(e(P).slug));var De=Dt(),ve=ue(De);let Me;var Ne=s(ve);Ne.textContent=Be+1;var Ce=l(Ne,2),Te=s(Ce),Re=s(Te),Ze=s(Re,!0);r(Re);var Ue=l(Re,2),Ve=s(Ue);{var $e=T=>{var S=Qe();m(()=>o(S,`${e(P).readMinutes??""} min`)),d(T,S)};h(Ve,T=>{e(P).readMinutes&&T($e)})}var et=l(Ve,2);{var tt=T=>{var S=qt(),lt=s(S,!0);r(S),m(()=>{b(S,"title",e(P).difficulty),o(lt,se[e(P).difficulty])}),d(T,S)};h(et,T=>{e(P).difficulty&&T(tt)})}r(Ue),r(Te);var Fe=l(Te,2),at=s(Fe,!0);r(Fe),r(Ce);var Ee=l(Ce,2),rt=s(Ee,!0);r(Ee),r(ve);var st=l(ve,2);{var it=T=>{var S=Bt();d(T,S)};h(st,T=>{Be<e($).length-1&&T(it)})}m(()=>{b(ve,"href",`${Ie??""}/library/explanation/${e(P).slug??""}`),Me=Se(ve,1,"cluster-entry svelte-c8k2rg",null,Me,{"is-completed":e(ge)==="completed","is-visited":e(ge)==="visited"}),o(Ze,e(P).title),o(at,e(P).description),b(Ee,"title",e(ge)),o(rt,ie[e(ge)])}),d(Xe,De)}),r(we),r(V),m(()=>{b(V,"id",e(I).id),o(ye,e(I).label),o(ke,e(I).description),o(Ke,`${e(ce).completed??""}/${e(ce).total??""}`),b(we,"aria-label",`${e(I).label??""} articles`)}),d(be,V)}),d(Z,ne)},Je=Z=>{var ne=Ae(),xe=ue(ne);{var be=I=>{var $=Ut();de($,21,()=>e(C).entries,oe,(ce,V)=>{var F=Nt(),W=s(F),ye=s(W,!0);r(W);var ee=l(W,2),ke=s(ee,!0);r(ee),r(F),m(()=>{b(F,"href",`${Ie??""}/library/reference/${e(V).slug??""}`),o(ye,e(V).title),o(ke,e(V).description)}),d(ce,F)}),r($),d(I,$)};h(xe,I=>{e(a).id==="reference"&&e(C)&&I(be)},!0)}d(Z,ne)};h(je,Z=>{e(a).id==="explanation"&&e(C)?Z(Ge):Z(Je,!1)})}d(he,Oe)};let fe=c(()=>e(w).has(e(a).id)),me=c(()=>Y(e(a).id));Tt(n,{get id(){return e(a).id},get label(){return e(a).label},get tagline(){return e(a).tagline},get count(){return e(H)},get expanded(){return e(fe)},ontoggle:()=>O(e(a).id),get preview(){return k[e(a).id]},get progress(){return e(me)},get placeholder(){return e(_e)},get variant(){return e(a).id},delay:x*80,content:pe,$$slots:{content:!0}})}}),r(A);var U=l(A,2);mt(U,{}),r(M),m(()=>{te(K,`width: ${e(p)?e(_).completed/e(p)*100:0}%`),te(le,`width: ${e(p)?(e(_).completed+e(_).visited)/e(p)*100:0}%`),o(g,`${e(_).completed??""} of ${e(p)??""} read `)}),d(ae,M),Pe(),J()}export{$t as component};
