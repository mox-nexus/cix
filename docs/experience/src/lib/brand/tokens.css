/* ===========================================
   DAO DESIGN TOKENS
   Dialectical Visual System for Collaborative Intelligence

   Identity: 27zmdbp
   Aesthetic: Wuwei minimalism, dialectical depth

   The visual language encodes the CI thesis:
   Blue (human) + Red (constraint) -> Void -> Green (emergence)
   =========================================== */


/* ===========================================
   LAYER 1: PRIMITIVE TOKENS
   Raw values. Never use directly in components.
   =========================================== */

:root {
  /* -----------------------------------------
     COLOR PRIMITIVES (OKLCH)

     OKLCH chosen for:
     - Perceptual uniformity (same lightness = same perceived brightness)
     - Accessible dark mode (adjust L channel, colors stay true)
     - Gamut mapping (graceful fallback on limited displays)
     ----------------------------------------- */

  /* --- The Triad: Semantic Color System --- */

  /*
   * BLUE: Human agency, spark, navigation, interaction
   * The color of human presence in the dialectic
   */
  --ci-blue: oklch(62% 0.15 240);

  /*
   * RED: Machine constraint, warnings, boundaries
   * Contains and shapes, does not expand or glow
   * Use sparingly - for warnings and critical bounds only
   */
  --ci-red: oklch(58% 0.18 25);

  /*
   * GREEN: Emergence, synthesis, code output, success
   * The color of what arises from human-AI collaboration
   */
  --ci-green: oklch(70% 0.18 145);


  /* --- Neutrals: Cold with Blue Undertone --- */

  /*
   * Hue 240 (blue) at near-zero chroma creates
   * cold neutrals that harmonize with the spark
   */
  --dao-bg: oklch(12% 0.01 240);
  --dao-surface: oklch(16% 0.01 240);
  --dao-surface-2: oklch(20% 0.01 240);
  --dao-surface-3: oklch(24% 0.01 240);
  --dao-border: oklch(25% 0.02 240);
  --dao-border-subtle: oklch(20% 0.015 240);
  --dao-text: oklch(90% 0.01 240);
  --dao-text-secondary: oklch(75% 0.01 240);
  --dao-muted: oklch(68% 0.02 240);


  /* -----------------------------------------
     BLUE SPARK: 4-Layer Luminosity System

     The spark represents human agency in the void.
     Four concentric layers create atmospheric depth:
     Core -> Inner -> Outer -> Atmosphere

     Each layer: decreasing lightness, decreasing chroma,
     decreasing opacity. Creates the "breathing" effect.
     ----------------------------------------- */

  --spark-core: oklch(75% 0.18 240);
  --spark-inner: oklch(62% 0.15 240 / 0.6);
  --spark-outer: oklch(55% 0.12 240 / 0.2);
  --spark-atmosphere: oklch(50% 0.08 240 / 0.05);


  /* -----------------------------------------
     GREEN EMERGENCE: 3-Layer Luminosity

     Emergence glows upward from synthesis.
     Warmer, more saturated than spark.
     Represents the output of collaboration.
     ----------------------------------------- */

  --emergence-core: oklch(75% 0.2 145);
  --emergence-glow: oklch(70% 0.18 145 / 0.3);
  --emergence-atmosphere: oklch(65% 0.12 145 / 0.08);


  /* -----------------------------------------
     RED CONSTRAINT: 2-Layer System

     Constraint contains but does not emit.
     Less atmospheric than spark/emergence.
     Represents boundaries, not expansion.
     ----------------------------------------- */

  --constraint-core: oklch(62% 0.2 25);
  --constraint-glow: oklch(58% 0.18 25 / 0.25);


  /* -----------------------------------------
     GLYPH BACKGROUNDS: Subtle Atmospheric Presence

     For background elements that hint at color
     without demanding attention. Used in cards,
     code blocks, highlighted sections.
     ----------------------------------------- */

  --glyph-blue: oklch(62% 0.15 240 / 0.06);
  --glyph-red: oklch(58% 0.18 25 / 0.03);
  --glyph-green: oklch(70% 0.18 145 / 0.025);


  /* --- Atmospheric Depth --- */
  --depth-void: oklch(6% 0.005 240);
  --depth-abyss: oklch(3% 0.003 240);
}


/* ===========================================
   LAYER 2: SEMANTIC TOKENS
   Named for purpose, not appearance.
   Use these in components.
   =========================================== */

:root {
  /* --- Semantic Colors --- */
  --color-link: var(--ci-blue);
  --color-link-hover: var(--spark-core);
  --color-link-visited: oklch(55% 0.12 240);
  --color-code: var(--ci-green);
  --color-warning: var(--ci-red);
  --color-error: var(--ci-red);
  --color-success: var(--ci-green);
  --color-info: var(--ci-blue);
  --color-focus: var(--ci-blue);
  --color-accent: var(--ci-blue);
  --dao-blue: var(--spark-core);

  /* --- Interactive States --- */
  --color-interactive: var(--ci-blue);
  --color-interactive-hover: var(--spark-core);
  --color-interactive-active: oklch(68% 0.16 240);
  --color-interactive-disabled: var(--dao-muted);

  /* -----------------------------------------
     EVIDENCE LEVEL PALETTE
     Dedicated colors for research evidence marks.
     Separate from the triad to avoid semantic collision.
     Brightness maps to epistemic confidence.
     ----------------------------------------- */
  --ev-strong: oklch(72% 0.16 145);
  --ev-strong-bg: oklch(72% 0.16 145 / 0.08);
  --ev-moderate: oklch(68% 0.12 230);
  --ev-moderate-bg: oklch(68% 0.12 230 / 0.08);
  --ev-weak: oklch(72% 0.14 85);            /* Amber â€” caution, not alarm */
  --ev-weak-bg: oklch(72% 0.14 85 / 0.08);
  --ev-speculative: oklch(62% 0.02 240);
  --ev-speculative-bg: oklch(62% 0.02 240 / 0.06);

  /* --- Quadrant Colors (Diataxis) --- */
  --quadrant-explanation: var(--spark-core);
  --quadrant-how-to: var(--emergence-core);
  --quadrant-tutorials: oklch(68% 0.15 190);
  --quadrant-reference: var(--dao-text-secondary);
}


/* ===========================================
   TYPOGRAPHY SCALE: 9-Based Rhythm

   Base unit: 9px
   Scale: 9, 13.5, 18, 24, 27, 36, 54

   Why 9? It's the enneagram number, divisible
   into thirds, creates visual rhythm that feels
   "considered" rather than computed.
   =========================================== */

:root {
  /* --- Type Scale --- */
  --type-xs: 0.5625rem;    /* 9px    - captions, meta */
  --type-sm: 0.84375rem;   /* 13.5px - small body, labels */
  --type-base: 1.125rem;   /* 18px   - body text (2 x 9) */
  --type-lg: 1.5rem;       /* 24px   - large body, subheads */
  --type-xl: 1.6875rem;    /* 27px   - h3, section heads (3 x 9) */
  --type-2xl: 2.25rem;     /* 36px   - h2, page sections (4 x 9) */
  --type-3xl: 3.375rem;    /* 54px   - h1, hero text (6 x 9) */
  --type-4xl: 4.5rem;      /* 72px   - display, brand (8 x 9) */

  /* --- Line Heights: Tight Rhythm --- */
  --leading-none: 1;
  --leading-tight: 1.2;
  --leading-snug: 1.35;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 2;

  /* --- Letter Spacing --- */
  --tracking-tighter: -0.02em;
  --tracking-tight: -0.01em;
  --tracking-normal: 0;
  --tracking-wide: 0.02em;
  --tracking-wider: 0.04em;
  --tracking-widest: 0.08em;

  /* --- Font Stacks --- */

  /*
   * IBM Plex: Designed for code, terminals, technical content
   * Monospace body signals: "This is a tool, not a magazine"
   */
  --font-mono: 'IBM Plex Mono', ui-monospace, 'Cascadia Code',
               'Source Code Pro', Menlo, Consolas,
               'Liberation Mono', monospace;

  --font-sans: 'IBM Plex Sans', system-ui, -apple-system,
               BlinkMacSystemFont, 'Segoe UI', Roboto,
               'Helvetica Neue', Arial, sans-serif;

  /* --- Font Weights --- */
  --weight-normal: 400;
  --weight-medium: 500;
  --weight-semibold: 600;
  --weight-bold: 700;
}


/* ===========================================
   SPACING SCALE: 9-Based Rhythm

   Consistent with type scale.
   Creates visual harmony across all measurements.
   =========================================== */

:root {
  /* --- Base Spacing Scale --- */
  --space-px: 1px;
  --space-0: 0;
  --space-0-5: 0.28125rem;  /* 4.5px  - half unit */
  --space-1: 0.5625rem;     /* 9px    - base unit */
  --space-1-5: 0.84375rem;  /* 13.5px - 1.5 units */
  --space-2: 1.125rem;      /* 18px   - 2 units */
  --space-3: 1.6875rem;     /* 27px   - 3 units */
  --space-4: 2.25rem;       /* 36px   - 4 units */
  --space-5: 3.375rem;      /* 54px   - 6 units */
  --space-6: 4.5rem;        /* 72px   - 8 units */
  --space-7: 5.625rem;      /* 90px   - 10 units */
  --space-8: 6.75rem;       /* 108px  - 12 units */


  /* -----------------------------------------
     WEIGHTED RHYTHM: Asymmetric Spacing

     "Approach > Departure"
     More space before important elements,
     less space after. Creates anticipation,
     then quick resolution.
     ----------------------------------------- */

  --pause-before: calc(var(--space-4) * 1.2);   /* 43.2px - anticipation */
  --pause-after: var(--space-2);                 /* 18px   - resolution */
  --pause-dramatic: calc(var(--space-6) * 1.4); /* 100.8px - major breaks */


  /* --- Semantic Rhythm Tokens --- */
  --rhythm-breathe: var(--space-6);    /* Between major sections */
  --rhythm-section: var(--space-4);    /* Between sections */
  --rhythm-group: var(--space-3);      /* Between related groups */
  --rhythm-item: var(--space-2);       /* Between items in a group */
  --rhythm-tight: var(--space-1);      /* Between tightly coupled elements */
  --rhythm-micro: var(--space-0-5);    /* Inline spacing */
}


/* ===========================================
   LAYOUT TOKENS
   Containers, breakpoints, structure
   =========================================== */

:root {
  /* --- Content Widths --- */
  --content-width: 65ch;     /* Optimal reading width */
  --content-narrow: 45ch;    /* Focused content */
  --content-wide: 85ch;      /* Code, tables */
  --content-full: 100%;      /* Full bleed */

  /* --- Structural Widths --- */
  --sidebar-width: 240px;
  --sidebar-collapsed: 60px;
  --toc-width: 200px;
  --header-height: 3.375rem; /* 54px = 6 units */

  /* --- Container Padding --- */
  --container-padding-x: var(--space-3);
  --container-padding-y: var(--space-4);

  /* --- Grid --- */
  --grid-gap: var(--space-3);
  --grid-gap-tight: var(--space-2);
  --grid-gap-loose: var(--space-4);
}


/* ===========================================
   MOTION TOKENS
   Minimal per wuwei. Motion serves function.
   =========================================== */

:root {
  /* --- Durations --- */
  --duration-instant: 0ms;
  --duration-fast: 100ms;
  --duration-normal: 200ms;
  --duration-slow: 400ms;
  --duration-slower: 600ms;
  --duration-counter: 800ms;   /* For counting animations */
  --duration-dramatic: 1200ms; /* For emphasis */

  /* --- Easing Functions --- */
  --easing-linear: linear;
  --easing-ease: ease;
  --easing-ease-in: ease-in;
  --easing-ease-out: ease-out;
  --easing-ease-in-out: ease-in-out;

  /* Custom curves for specific purposes */
  --easing-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --easing-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --easing-enter: cubic-bezier(0, 0, 0.2, 1);
  --easing-exit: cubic-bezier(0.4, 0, 1, 1);

  /* --- Common Transitions --- */
  --transition-colors: color var(--duration-fast) var(--easing-linear),
                       background-color var(--duration-fast) var(--easing-linear),
                       border-color var(--duration-fast) var(--easing-linear);
  --transition-opacity: opacity var(--duration-normal) var(--easing-smooth);
  --transition-transform: transform var(--duration-normal) var(--easing-smooth);
  --transition-all: all var(--duration-normal) var(--easing-smooth);
}


/* ===========================================
   BORDER & SHAPE TOKENS
   Sharp, minimal. No friendly curves.
   =========================================== */

:root {
  /* --- Border Radius --- */
  --radius-none: 0;
  --radius-sm: 2px;     /* Maximum for DAO aesthetic */
  --radius-md: 4px;     /* Only for special cases */
  --radius-full: 9999px; /* Pills, avatars */

  /* --- Border Width --- */
  --border-width: 1px;
  --border-width-2: 2px;
  --border-accent: 3px;  /* Left borders on blockquotes, etc. */

  /* --- Shadows: Minimal, Atmospheric --- */
  --shadow-sm: 0 1px 2px oklch(0% 0 0 / 0.1);
  --shadow-md: 0 4px 6px oklch(0% 0 0 / 0.1);
  --shadow-lg: 0 10px 15px oklch(0% 0 0 / 0.1);
  --shadow-glow-blue: 0 0 20px var(--spark-outer);
  --shadow-glow-green: 0 0 20px var(--emergence-glow);
}


/* ===========================================
   Z-INDEX SCALE
   Layered consistently
   =========================================== */

:root {
  --z-below: -1;
  --z-base: 0;
  --z-raised: 10;
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-overlay: 300;
  --z-modal: 400;
  --z-popover: 500;
  --z-tooltip: 600;
  --z-toast: 700;
  --z-max: 9999;
}


/* ===========================================
   ACCESSIBILITY: REDUCED MOTION
   Respect user preferences
   =========================================== */

@media (prefers-reduced-motion: reduce) {
  :root {
    --duration-fast: 0ms;
    --duration-normal: 0ms;
    --duration-slow: 0ms;
    --duration-slower: 0ms;
    --duration-counter: 0ms;
    --duration-dramatic: 0ms;
  }
}


/* ===========================================
   HIGH CONTRAST MODE
   Enhance visibility when requested
   =========================================== */

@media (prefers-contrast: high) {
  :root {
    --dao-border: oklch(40% 0.02 240);
    --dao-text: oklch(95% 0.01 240);
    --dao-muted: oklch(78% 0.02 240);
    --border-width: 2px;
  }
}


/* ===========================================
   DARK MODE ADJUSTMENTS
   Default is dark. Light mode would invert.
   =========================================== */

/*
 * The DAO aesthetic is dark-first.
 * Light mode would require significant rethinking
 * of the luminosity system (spark, emergence).
 *
 * If needed, implement as:
 * @media (prefers-color-scheme: light) { ... }
 */
