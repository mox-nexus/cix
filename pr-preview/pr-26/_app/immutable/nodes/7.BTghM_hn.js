import{a as v,f as g,t as Ve,d as Re}from"../chunks/C4-dLuTv.js";import{p as He,c as s,r as t,s as n,t as f,g as e,a as We,u,af as ca,Z as ga,k as pa,V as Te,N as ua,ah as fa,M as se}from"../chunks/iyO_HpW3.js";import{d as Ye,s as d}from"../chunks/2hgU3PCP.js";import{i as _}from"../chunks/_Dz5Oby6.js";import{s as x,a as Ze,h as _a,e as j,i as G}from"../chunks/BbhyhsYm.js";import{s as re}from"../chunks/BFxfVKZg.js";import{p as Ae,s as ma,a as Fe}from"../chunks/CFsY3MpS.js";import{g as Me,C as ha,L as ze,r as xa,a as ba}from"../chunks/BbVLOACi.js";import{b as Ie}from"../chunks/CsDgnD6d.js";import"../chunks/D1PGsUc-.js";/* empty css                */import{C as ka}from"../chunks/C_WXZaqx.js";import{s as ya}from"../chunks/BwsKPAvP.js";var wa=g('<span class="aisle-chevron svelte-1a2fm0q" aria-hidden="true"> </span>'),Ca=g('<p class="aisle-preview svelte-1a2fm0q"> </p>'),Ea=g('<div class="aisle-progress svelte-1a2fm0q"><div class="aisle-progress-bar svelte-1a2fm0q"><div class="aisle-progress-fill svelte-1a2fm0q"></div></div> <span class="aisle-progress-text svelte-1a2fm0q"> </span></div>'),qa=g('<p class="aisle-coming-soon svelte-1a2fm0q">Coming soon.</p>'),Ra=g('<div class="aisle-content svelte-1a2fm0q"><!></div>'),Ta=g('<section><button class="aisle-toggle svelte-1a2fm0q"><div class="aisle-header svelte-1a2fm0q"><h2 class="aisle-label svelte-1a2fm0q"> </h2> <span class="aisle-count svelte-1a2fm0q"> </span> <!></div> <p class="aisle-tagline svelte-1a2fm0q"> </p> <!> <!> <!></button> <!></section>');function Aa(ie,i){He(i,!0);let S=Ae(i,"placeholder",3,!1),ne=Ae(i,"variant",3,"explanation"),J=Ae(i,"delay",3,0);const le={explanation:"var(--quadrant-explanation)","how-to":"var(--quadrant-how-to)",tutorials:"var(--quadrant-tutorials)",reference:"var(--quadrant-reference)"};let ve=u(()=>le[ne()]??"var(--dao-muted)"),oe=u(()=>i.progress&&i.progress.total>0?i.progress.completed/i.progress.total*100:0);var y=Ta();let K;var c=s(y);c.__click=function(...l){i.ontoggle?.apply(this,l)};var w=s(c),Q=s(w),b=s(Q,!0);t(Q);var L=n(Q,2),de=s(L);t(L);var ce=n(L,2);{var P=l=>{var o=wa(),m=s(o,!0);t(o),f(()=>d(m,i.expanded?"▾":"▸")),v(l,o)};_(ce,l=>{S()||l(P)})}t(w);var U=n(w,2),V=s(U,!0);t(U);var F=n(U,2);{var ge=l=>{var o=Ca(),m=s(o,!0);t(o),f(()=>d(m,i.preview)),v(l,o)};_(F,l=>{i.preview&&!i.expanded&&l(ge)})}var O=n(F,2);{var M=l=>{var o=Ea(),m=s(o),H=s(m);t(m);var W=n(m,2),ue=s(W);t(W),t(o),f(()=>{x(o,"aria-label",`${i.progress.completed??""} of ${i.progress.total??""} read`),re(H,`width: ${e(oe)??""}%`),d(ue,`${i.progress.completed??""}/${i.progress.total??""}`)}),v(l,o)};_(O,l=>{i.progress&&i.progress.total>0&&!i.expanded&&l(M)})}var z=n(O,2);{var X=l=>{var o=qa();v(l,o)};_(z,l=>{S()&&l(X)})}t(c);var pe=n(c,2);{var $=l=>{var o=Ra(),m=s(o);ya(m,()=>i.content),t(o),v(l,o)};_(pe,l=>{i.expanded&&i.content&&l($)})}t(y),f(()=>{x(y,"id",i.id),K=Ze(y,1,"aisle svelte-1a2fm0q",null,K,{expanded:i.expanded,placeholder:S()}),re(y,`--stagger-delay: ${J()??""}ms; --variant-color: ${e(ve)??""}`),x(c,"aria-expanded",i.expanded),c.disabled=S(),d(b,i.label),d(de,`${i.count??""} ${i.count===1?"article":"articles"}`),d(V,i.tagline)}),v(ie,y),We()}Ye(["click"]);var Ia=g('<meta name="description" content="Research and practice of collaborative intelligence. Explanation, reference, and guides organized by Diataxis quadrant."/>'),Sa=g('<button class="quadrant-chip svelte-c8k2rg"><span class="chip-label"> </span> <span class="chip-count svelte-c8k2rg"> </span></button>'),La=g('<div class="suggested-start svelte-c8k2rg"><span class="suggested-label svelte-c8k2rg">start here</span> <a class="suggested-link svelte-c8k2rg"><span class="suggested-title svelte-c8k2rg">What is CI</span> <span class="suggested-desc svelte-c8k2rg">The collaborative intelligence thesis · 5 min</span></a></div>'),Pa=g('<span class="entry-difficulty svelte-c8k2rg"> </span>'),Oa=g('<div class="entry-connector svelte-c8k2rg" aria-hidden="true"></div>'),Ba=g('<a><span class="entry-index svelte-c8k2rg"></span> <div class="entry-body svelte-c8k2rg"><div class="entry-top svelte-c8k2rg"><span class="entry-title svelte-c8k2rg"> </span> <span class="entry-meta svelte-c8k2rg"><!> <!></span></div> <span class="entry-description svelte-c8k2rg"> </span></div> <span class="entry-state svelte-c8k2rg"> </span></a> <!>',1),Da=g('<div class="cluster-group svelte-c8k2rg"><div class="cluster-header svelte-c8k2rg"><h3 class="cluster-label svelte-c8k2rg"> </h3> <span class="cluster-description svelte-c8k2rg"> </span> <span class="cluster-progress-text svelte-c8k2rg"> </span></div> <nav class="cluster-entries svelte-c8k2rg"></nav></div>'),Na=g('<a class="ref-link svelte-c8k2rg"><span class="ref-title svelte-c8k2rg"> </span> <span class="ref-description svelte-c8k2rg"> </span></a>'),Qa=g('<div class="ref-grid svelte-c8k2rg"></div>'),Ua=g(`<div class="library-index svelte-c8k2rg"><header class="library-header svelte-c8k2rg"><h1 class="svelte-c8k2rg">Library</h1> <p class="intro svelte-c8k2rg">The research behind collaborative intelligence — organized by purpose,
			ordered for progressive understanding.</p></header> <div class="progress-overview svelte-c8k2rg"><div class="progress-bar svelte-c8k2rg" aria-label="Reading progress"><div class="progress-fill svelte-c8k2rg"></div> <div class="progress-visited svelte-c8k2rg"></div></div> <span class="progress-label svelte-c8k2rg"> <!></span></div> <nav class="quadrant-strip svelte-c8k2rg" aria-label="Content quadrants"></nav> <!> <div class="aisles svelte-c8k2rg"></div> <!></div>`);function $a(ie,i){He(i,!0);const S=()=>Fe(ba,"$readingOverview",J),ne=()=>Fe(xa,"$readingProgress",J),[J,le]=ma(),ve={foundational:"○",intermediate:"◐",advanced:"●"},oe={unvisited:"○",visited:"◐",completed:"●"},y=[{id:"explanation",label:"Explanation",tagline:"The research and reasoning"},{id:"how-to",label:"How-To",tagline:"Practical guides for building extensions"},{id:"tutorials",label:"Tutorials",tagline:"Hands-on learning from first principles"},{id:"reference",label:"Reference",tagline:"Evidence syntheses and citations"}],K={explanation:"Thesis · Evidence · Design · Critique"};let c=u(S),w=u(()=>ze.find(r=>r.id==="explanation")?.entries.length??0),Q=u(ne),b=ca(ga(new Set)),L=!1;function de(r){const a=new Set(e(b));a.has(r)?a.delete(r):a.add(r),Te(b,a,!0)}function ce(r){if(!e(b).has(r)){const a=new Set(e(b));a.add(r),Te(b,a,!0)}requestAnimationFrame(()=>{document.getElementById(r)?.scrollIntoView({behavior:"smooth",block:"start"})})}pa(()=>{!L&&e(c).completed===0&&e(c).visited<=1&&(L=!0,Te(b,new Set([...e(b),"explanation"]),!0))});function P(r){return e(Q).entries[r]||"unvisited"}function U(r){const a=Me(r),R=a.filter(C=>P(C.slug)==="completed").length,p=a.filter(C=>P(C.slug)!=="unvisited").length;return{completed:R,visited:p,total:a.length}}function V(r){return ze.find(a=>a.id===r)}function F(r){return V(r)?.entries.length??0}function ge(r){const a=V(r);return a?{completed:a.entries.filter(p=>P(p.slug)==="completed").length,total:a.entries.length}:{completed:0,total:0}}var O=Ua();_a("c8k2rg",r=>{var a=Ia();ua(()=>{fa.title="Library — cix"}),v(r,a)});var M=n(s(O),2),z=s(M),X=s(z),pe=n(X,2);t(z);var $=n(z,2),l=s($),o=n(l);{var m=r=>{var a=Ve();f(()=>d(a,`· ${e(c).visited??""} in progress`)),v(r,a)};_(o,r=>{e(c).visited>0&&r(m)})}t($),t(M);var H=n(M,2);j(H,21,()=>y,G,(r,a)=>{const R=u(()=>F(e(a).id));var p=Sa();p.__click=()=>ce(e(a).id);var C=s(p),_e=s(C,!0);t(C);var ee=n(C,2),me=s(ee,!0);t(ee),t(p),f(()=>{x(p,"data-variant",e(a).id),d(_e,e(a).label),d(me,e(R))}),v(r,p)}),t(H);var W=n(H,2);{var ue=r=>{var a=La(),R=n(s(a),2);t(a),f(()=>x(R,"href",`${Ie??""}/library/explanation/what-is-ci`)),v(r,a)};_(W,r=>{e(c).completed===0&&e(c).visited<=1&&r(ue)})}var fe=n(W,2);j(fe,21,()=>y,G,(r,a,R)=>{const p=u(()=>V(e(a).id)),C=u(()=>F(e(a).id)),_e=u(()=>!e(p)||e(p).entries.length===0);{const ee=Je=>{var Se=Re(),Ke=se(Se);{var Xe=B=>{var Y=Re(),he=se(Y);j(he,17,()=>ha,G,(xe,k)=>{const D=u(()=>Me(e(k).id)),ae=u(()=>U(e(k).id));var T=Da(),A=s(T),I=s(A),be=s(I,!0);t(I);var N=n(I,2),ke=s(N,!0);t(N);var Le=n(N,2),ea=s(Le);t(Le),t(A);var ye=n(A,2);j(ye,21,()=>e(D),G,(aa,E,Pe)=>{const te=u(()=>P(e(E).slug));var Oe=Ba(),Z=se(Oe);let Be;var De=s(Z);De.textContent=Pe+1;var we=n(De,2),Ce=s(we),Ee=s(Ce),ta=s(Ee,!0);t(Ee);var Ne=n(Ee,2),Qe=s(Ne);{var sa=h=>{var q=Ve();f(()=>d(q,`${e(E).readMinutes??""} min`)),v(h,q)};_(Qe,h=>{e(E).readMinutes&&h(sa)})}var ra=n(Qe,2);{var ia=h=>{var q=Pa(),da=s(q,!0);t(q),f(()=>{x(q,"title",e(E).difficulty),d(da,ve[e(E).difficulty])}),v(h,q)};_(ra,h=>{e(E).difficulty&&h(ia)})}t(Ne),t(Ce);var Ue=n(Ce,2),na=s(Ue,!0);t(Ue),t(we);var qe=n(we,2),la=s(qe,!0);t(qe),t(Z);var va=n(Z,2);{var oa=h=>{var q=Oa();v(h,q)};_(va,h=>{Pe<e(D).length-1&&h(oa)})}f(()=>{x(Z,"href",`${Ie??""}/library/explanation/${e(E).slug??""}`),Be=Ze(Z,1,"cluster-entry svelte-c8k2rg",null,Be,{"is-completed":e(te)==="completed","is-visited":e(te)==="visited"}),d(ta,e(E).title),d(na,e(E).description),x(qe,"title",e(te)),d(la,oe[e(te)])}),v(aa,Oe)}),t(ye),t(T),f(()=>{x(T,"id",e(k).id),d(be,e(k).label),d(ke,e(k).description),d(ea,`${e(ae).completed??""}/${e(ae).total??""}`),x(ye,"aria-label",`${e(k).label??""} articles`)}),v(xe,T)}),v(B,Y)},$e=B=>{var Y=Re(),he=se(Y);{var xe=k=>{var D=Qa();j(D,21,()=>e(p).entries,G,(ae,T)=>{var A=Na(),I=s(A),be=s(I,!0);t(I);var N=n(I,2),ke=s(N,!0);t(N),t(A),f(()=>{x(A,"href",`${Ie??""}/library/reference/${e(T).slug??""}`),d(be,e(T).title),d(ke,e(T).description)}),v(ae,A)}),t(D),v(k,D)};_(he,k=>{e(a).id==="reference"&&e(p)&&k(xe)},!0)}v(B,Y)};_(Ke,B=>{e(a).id==="explanation"&&e(p)?B(Xe):B($e,!1)})}v(Je,Se)};let me=u(()=>e(b).has(e(a).id)),Ge=u(()=>ge(e(a).id));Aa(r,{get id(){return e(a).id},get label(){return e(a).label},get tagline(){return e(a).tagline},get count(){return e(C)},get expanded(){return e(me)},ontoggle:()=>de(e(a).id),get preview(){return K[e(a).id]},get progress(){return e(Ge)},get placeholder(){return e(_e)},get variant(){return e(a).id},delay:R*80,content:ee,$$slots:{content:!0}})}}),t(fe);var je=n(fe,2);ka(je,{}),t(O),f(()=>{re(X,`width: ${e(w)?e(c).completed/e(w)*100:0}%`),re(pe,`width: ${e(w)?(e(c).completed+e(c).visited)/e(w)*100:0}%`),d(l,`${e(c).completed??""} of ${e(w)??""} read `)}),v(ie,O),We(),le()}Ye(["click"]);export{$a as component};
